(this["webpackJsonpreact-redux-group-project"]=this["webpackJsonpreact-redux-group-project"]||[]).push([[0],{44:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),i=n(20),r=n.n(i),a=(n(44),n(12)),o=n(4),l=n(5),d=n(37),j=n.n(d),u=n(17),b=n(25),m=n(11),O=n.n(m),h=n(14),x=n(15),p=function(){var e=Object(h.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.spacexdata.com/v3/missions");case 3:return t=e.sent,e.abrupt("return",t.json());case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),f=p,v="spaceHub/missions/FETCH_MISSIONS",N="spaceHub/missions/JOIN_MISSIONS",g=[],k=function(e){var t=[];return e.forEach((function(e){var n={mission_id:e.mission_id,mission_name:e.mission_name,description:e.description,join:!1};return t[t.length]=n,t})),t},y=function(e,t){return 0===e.length?[].concat(Object(x.a)(e),Object(x.a)(t)):Object(x.a)(e)},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return y(e,t.payload);case N:return e.map((function(e){return e.mission_id===t.payload?Object(b.a)(Object(b.a)({},e),{},{join:!e.join}):e}));default:return e}},w=n(24),M=n(38),C=n.n(M),E=Object(w.a)("rockets/fetchAllRockets",Object(h.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://api.spacexdata.com/v3/rockets");case 2:return t=e.sent,n=t.data.map((function(e){return{id:e.rocket_id,name:e.rocket_name,images:e.flickr_images,description:e.description,reserved:"false"}})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),R=Object(w.b)({name:"rockets",initialState:{entities:[],loading:"idle"},reducers:{reserve:function(e,t){var n=e.entities.find((function(e){return e.id===t.payload}));"true"===n.reserved?n.reserved="false":n.reserved="true"}},extraReducers:function(e){e.addCase(E.pending,(function(e){e.loading="pending"})).addCase(E.fulfilled,(function(e,t){var n=e;n.entities=Object(x.a)(t.payload),n.loading="idle"}))}}),S=R.actions.reserve,I=R.reducer,H=Object(l.b)({missionReducer:_,rockets:I}),J=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,P=Object(l.d)(H,J(Object(l.a)(u.a,j.a))),T=n(3),A=n.p+"static/media/planet.a63017b2.svg",D=n(1),L=function(){return Object(D.jsx)("div",{className:"container",children:Object(D.jsxs)("div",{className:"row d-flex justify-content-start",children:[Object(D.jsxs)("div",{className:"col-6",children:[Object(D.jsx)("img",{src:A,alt:"",className:"logoImg"}),"Space Travellers' Hub"]}),Object(D.jsx)("div",{className:"col text-end links",children:Object(D.jsx)(a.b,{className:"links",to:"/",exact:!0,activeClassName:"active-link",children:"Rockets"})}),Object(D.jsx)("div",{className:"col text-end links",children:Object(D.jsx)(a.b,{className:"links",to:"/missions",activeClassName:"active-link",children:"Missions"})}),Object(D.jsx)("div",{className:"col text-end links spacer",children:Object(D.jsx)(a.b,{className:"links",to:"/myProfile",activeClassName:"active-link",children:"My Profile"})})]})})},X=function(){var e=Object(o.c)((function(e){return e.rockets.entities})).filter((function(e){return"true"===e.reserved}));return Object(D.jsxs)("div",{children:[Object(D.jsx)("h1",{children:"My Rockets"}),Object(D.jsx)("table",{className:"table table-hover border border-solid",children:Object(D.jsx)("tbody",{children:e.map((function(e){return Object(D.jsx)("tr",{children:Object(D.jsx)("th",{children:e.name})},e.id)}))})})]})},B=function(){var e=Object(o.c)((function(e){return e.missionReducer})).filter((function(e){return!0===e.join}));return Object(D.jsx)("main",{className:"container",children:Object(D.jsxs)("section",{className:"row align-top p-2",children:[Object(D.jsxs)("div",{className:"col-6",children:[Object(D.jsx)("h3",{children:"My Missions"}),Object(D.jsx)("ul",{className:"profile-list",children:e.map((function(e){return Object(D.jsx)("li",{children:e.mission_name},e.mission_id)}))})]}),Object(D.jsx)("div",{className:"col-6",children:Object(D.jsx)("div",{className:"row align-top p-2",children:Object(D.jsx)("div",{className:"col",children:Object(D.jsx)(X,{})})})})]})})},F=function(e){var t=e.mission,n=Object(o.b)(),c=t.mission_id,s=t.mission_name,i=t.description,r=t.join,a={};r?(a.button="Leave Mission",a.status="Active Member"):(a.button="Join Mission",a.status="Not A Member");return Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:s}),Object(D.jsx)("td",{children:i}),Object(D.jsx)("td",{children:Object(D.jsx)("p",{style:r?{backgroundColor:"#0290ff"}:null,children:a.status})}),Object(D.jsx)("td",{children:Object(D.jsx)("button",{style:r?{color:"red",border:"1px solid red",backgroundColor:"#fff"}:null,type:"button",onClick:function(){return n({type:N,payload:c})},children:a.button})})]})},U=function(){var e=Object(o.b)();Object(c.useEffect)((function(){e(function(){var e=Object(h.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:n=e.sent,t({type:v,payload:k(n)}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(o.c)((function(e){return e.missionReducer}));return Object(D.jsxs)("table",{className:"mission-table",children:[Object(D.jsx)("thead",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{className:"mission-data1",children:"Mission"}),Object(D.jsx)("th",{className:"mission-data2",children:"Description"}),Object(D.jsx)("th",{className:"mission-data3",children:"status"}),Object(D.jsx)("th",{className:"mission-data4",children:"."})]})}),Object(D.jsx)("tbody",{children:t.map((function(e){return Object(D.jsx)(F,{mission:e},e.mission_id)}))})]})},V=function(e){var t=Object(o.b)(),n=e.name,c=e.image,s=e.description,i=e.id,r=e.reserved;return Object(D.jsxs)("div",{className:"d-flex my-4",children:[Object(D.jsx)("img",{src:c,alt:n,className:"w-25 p-1"}),Object(D.jsxs)("div",{className:"w-75 p-2",children:[Object(D.jsx)("h2",{children:n}),Object(D.jsx)("p",{children:s}),Object(D.jsxs)("div",{className:"d-flex",children:[Object(D.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){t(S(i))},children:"true"===r?"Cancel Reservation":"Reserve Rocket"}),"true"===r?Object(D.jsx)("p",{className:"mx-5 my-auto bg-success p-2 text-light",children:" Reserved "}):Object(D.jsx)("p",{children:" "})]})]})]})},q=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.rockets.entities}));Object(c.useEffect)((function(){0===t.length&&e(E())}),[]);var n;return Object(D.jsx)("div",{children:(n=t,n.map((function(e){return Object(D.jsx)(V,{id:e.id,name:e.name,image:e.images[0],description:e.description,reserved:e.reserved},e.id)})))})},z=function(){return Object(D.jsx)("div",{className:"container mt-3",children:Object(D.jsx)(q,{})})},G=function(){return Object(D.jsxs)("div",{children:[Object(D.jsx)(L,{}),Object(D.jsxs)(T.c,{children:[Object(D.jsx)(T.a,{path:"/missions",children:Object(D.jsx)(U,{})}),Object(D.jsx)(T.a,{path:"/myProfile",children:Object(D.jsx)(B,{})}),Object(D.jsx)(T.a,{exact:!0,path:"/",children:Object(D.jsx)(z,{})})]})]})};r.a.render(Object(D.jsx)(s.a.StrictMode,{children:Object(D.jsx)(a.a,{children:Object(D.jsx)(o.a,{store:P,children:Object(D.jsx)(G,{})})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.42ffd4fd.chunk.js.map